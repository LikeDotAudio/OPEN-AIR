{
  "nab": {
    "type": "OcaBlock",
    "description": "NAB Amplitude Monitoring",
    "fields": {
      "NAB_amplitude_settings": {
        "type": "OcaBlock",
        "description": "Power and Attenuation Readbacks",
        "fields": {
          "Execute Command": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "trigger": false,
            "message": ":DISPlay:WINDow:TRACe:Y:RLEVel?;:POWer:ATTenuation?;:POWer:GAIN?",
            "layout": { "height": 30, "sticky": "" }
          },
          "Outputs": {
            "type": "OcaBlock",
            "description": "Readback Values",
            "fields": {
              "Ref_Level_dBm": {
                "value": "The reference level in dBm.",
                "type": "_GuiValue"
              },
              "Attenuation_dB": {
                "value": "The attenuation in dB.",
                "type": "_GuiValue"
              },
              "Preamp_On": {
                "value": "Boolean for preamp state.",
                "type": "_GuiValue"
              }
            }
          }
        }
      }
    }
  },
  "rig": {
    "type": "OcaBlock",
    "description": "RIG Amplitude Commands",
    "fields": {
      "rig_Ref_Level_dBm": {
        "type": "OcaBlock",
        "description": "Set Power Levels",
        "fields": {
          "Execute Command": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "trigger": false,
            "message": ":DISPlay:WINDow:TRACe:Y:RLEVel <Ref_Level_dBm>;:POWer:RF:ATTenuation <Attenuation_dB>;:POWer:GAIN <Preamp_On>",
            "layout": { "height": 30, "sticky": "" }
          },
          "Input": {
            "type": "OcaBlock",
            "fields": {
              "Ref_Level_dBm": {
                "value": "-45",
                "type": "_GuiValue",
                "description": "The SCPI input for reference level."
              },
              "Attenuation_dB": {
                "value": "10",
                "type": "_GuiValue",
                "description": "The SCPI input for power attenuation."
              },
              "Preamp_On": {
                "value": "1",
                "type": "_GuiValue",
                "description": "The SCPI input for power attenuation."
              }
            }
          }
        }
      }
    }
  },
  "get": {
    "type": "OcaBlock",
    "description": "Individual Read Queries",
    "fields": {
      "Get_Reference_Level": {
        "type": "OcaBlock",
        "fields": {
          "Execute Command": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "trigger": false,
            "message": ":DISPlay:WINDow:TRACe:Y:RLEVel?",
            "layout": { "height": 30, "sticky": "" }
          },
          "Outputs": {
            "type": "OcaBlock",
            "fields": {
              "ref_level": {
                "value": "The reference level in dBm.",
                "type": "_GuiValue"
              }
            }
          }
        }
      },
      "Get_Attenuation": {
        "type": "OcaBlock",
        "fields": {
          "Execute Command": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "trigger": false,
            "message": ":POWer:RF:ATTenuation?",
            "layout": { "height": 30, "sticky": "" }
          },
          "Outputs": {
            "type": "OcaBlock",
            "fields": {
              "attenuation": {
                "value": "The attenuation in dB.",
                "type": "_GuiValue"
              }
            }
          }
        }
      },
      "Get_Preamp_State": {
        "type": "OcaBlock",
        "fields": {
          "Execute Command": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "trigger": false,
            "message": ":SENSE:POWer:RF:GAIN:STATe?",
            "layout": { "height": 30, "sticky": "" }
          },
          "Outputs": {
            "type": "OcaBlock",
            "fields": {
              "preamp_state": {
                "value": "Boolean for preamp state.",
                "type": "_GuiValue"
              }
            }
          }
        }
      }
    }
  },
  "set": {
    "type": "OcaBlock",
    "description": "Individual Power Sets",
    "fields": {
      "Set_Reference_Level": {
        "type": "OcaBlock",
        "fields": {
          "Execute Command": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "trigger": false,
            "message": ":DISPlay:WINDow:TRACe:Y:RLEVel <Ref_Level_dBm>",
            "layout": { "height": 30, "sticky": "" }
          },
          "Input": {
            "type": "OcaBlock",
            "fields": {
              "Ref_Level_dBm": {
                "type": "_GuiValue",
                "value": "-40"
              }
            }
          }
        }
      },
      "Set_Power_Attenuation": {
        "type": "OcaBlock",
        "fields": {
          "Execute Command": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "trigger": false,
            "message": ":POWer:ATTenuation <Power_Attenuation>",
            "layout": { "height": 30, "sticky": "" }
          },
          "Input": {
            "type": "OcaBlock",
            "fields": {
              "Power_Attenuation": {
                "type": "_GuiValue",
                "value": "20"
              }
            }
          }
        }
      },
      "Auto_Attenuation_Controls": {
        "type": "OcaBlock",
        "fields": {
          "Set_Input_Auto_Attenuation_ON": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "Auto Atten ON",
            "layout": { "height": 30, "sticky": "" },
            "Execute Command": {
              "message": ":POWer:ATTenuation:AUTO ON"
            }
          },
          "Set_Input_Auto_Attenuation_OFF": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "Auto Atten OFF",
            "layout": { "height": 30, "sticky": "" },
            "Execute Command": {
              "message": ":POWer:ATTenuation:AUTO OFF"
            }
          }
        }
      },
      "Power_Gain_Controls": {
        "type": "OcaBlock",
        "fields": {
          "Set_Power_Gain_ON": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "Preamp ON",
            "layout": { "height": 30, "sticky": "" },
            "Execute Command": {
              "message": ":POWer:GAIN ON"
            }
          },
          "Set_Power_Gain_OFF": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "Preamp OFF",
            "layout": { "height": 30, "sticky": "" },
            "Execute Command": {
              "trigger": false,
              "message": ":POWer:GAIN OFF"
            }
          }
        }
      },
      "High_Sensitivity_Profiles": {
        "type": "OcaBlock",
        "description": "Quick sensitivity presets",
        "fields": {
          "Set_High_Sensitive_Power_ON_N9340B": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "High Sensitivity ON",
            "layout": { "height": 30, "sticky": "" },
            "N9340B": {
              "trigger": false,
              "message": ":DISPlay:WINDow:TRACe:Y:RLEVel -50; :POWer:ATTenuation 0; :POWer:GAIN ON"
            }
          },
          "Set_High_Sensitive_Power_ON_N9342CN": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "High Sensitivity ON",
            "layout": { "height": 30, "sticky": "" },
            "N9342CN": {
              "trigger": false,
              "message": ":POWer:HSENsitive ON"
            }
          },
          "Set_High_Sensitive_Power_OFF_N9340B": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "High Sensitivity OFF",
            "layout": { "height": 30, "sticky": "" },
            "N9340B": {
              "trigger": false,
              "message": ":DISPlay:WINDow:TRACe:Y:RLEVel 0; :POWer:ATTenuation 20; :POWer:GAIN OFF"
            }
          },
          "Set_High_Sensitive_Power_OFF_N9342CN": {
            "type": "_GuiActuator",
            "AES70": "OcaBooleanActuator",
            "active": true,
            "label_inactive": "High Sensitivity OFF",
            "layout": { "height": 30, "sticky": "" },
            "N9342CN": {
              "trigger": false,
              "message": ":POWer:HSENsitive OFF"
            }
          }
        }
      }
    }
  }
}